function default_menu(){mobile_view===!1?($("nav").removeClass("show_menu"),$("nav .top_menu:hidden").show(),$("nav .show_submenu").removeClass("show_submenu"),$("nav .sub:visible").hide()):$("nav .top_menu:visible").hide()}function resize_window(){var e=find_screen_width(),n=mobile_view;mobile_view=800>=e,n!=mobile_view&&(n=mobile_view,default_menu()),"function"==typeof resize_window_addl&&resize_window_addl(e)}function find_screen_width(){var e=$(window).width();return document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetWidth),window.innerWidth&&(e=window.innerWidth),e}function toggle_menu(){var e=$("nav");e.is(".show_menu")?(e.removeClass("show_menu"),$(".top_menu",e).slideUp(200)):(e.addClass("show_menu"),$(".top_menu",e).slideDown(200))}function toggle_submenu(e){var n=e.parents("li"),t=$(".sub",n);n.is(".show_submenu")?(n.removeClass("show_submenu"),t.slideUp(200)):(n.addClass("show_submenu"),t.slideDown("200"))}function open_colorbox(e){if("function"!=typeof jQuery().colorbox)$.ajax({url:"/css/jquery.colorbox.css",cache:!0,success:function(n){$("body").append('<style type="text/css">'+n+"</style>"),$.ajax({url:"/js/jquery.colorbox.min.js",cache:!0,dataType:"script",success:function(n,t){open_colorbox(e)}})}});else{var n={close:"Close",opacity:.7};$.extend(n,e),$.colorbox(n)}}function news_widget(){news_widget_count++;var e=$(".news_widget.news_slide .news_item").length;1===e?$(".news_widget.news_slide .news_item:first").show():e>1&&(jQuery().cycle?$(".news_widget.news_slide .articles").cycle({fx:"scrollUp",pause:!0,timeout:6e3}):10>news_widget_count?$.ajax({url:"/js/jquery.cycle.min.js",cache:!0,dataType:"script",success:function(e,n,t){news_widget()}}):"object"==typeof console&&console.log("[Site OnCall] Cannot load jQuery Cycle plugin."))}function change_words(){var e=$(".descriptive_noun").text(),n=[e,"foo","bar","baz","chuck"],t=1;$(".descriptive_noun").on("click",function(e){$(this).fadeOut(250,function(){$(this).text(n[t++%n.length]).fadeIn(250)})})}Modernizr.load({test:Modernizr.cssremunit,nope:"/js/modernizr.rem.min.js"});var mobile_view=!1,menu_index=0,active_menu_l2=!1,active_menu_l3=!1,init_drop_menu=function(e){menu_index++,e.attr("menuid",menu_index),$("ul.sub, ul.sub ul.menu-l3",e).hide();var n=0;$("ul",e).each(function(){n++,$(this).attr("menuindex",n)}),e.children("li").data("menulevel","1"),e.children("ul.sub > li").data("menulevel","2"),e.children("ul.sub ul.menu-l3 > li").data("menulevel","3"),drop_menu_hover_event(e),drop_menu_focus_event(e)},drop_menu_hover_event=function(e){$("li:has(ul.sub)",e).hover(function(){mobile_view===!1&&$("ul.sub",this).show()},function(){mobile_view===!1&&$("ul.sub",this).hide()}).focusin(function(){$l2_menu=$("ul.sub",this),$l2_menu.show(),active_menu_l2!=$l2_menu.attr("menuindex")&&(hide_drop_menu($('ul.sub[menuindex="'+active_menu_l2+'"]'),2),active_menu_l2=$l2_menu.attr("menuindex"))})},drop_menu_focus_event=function(e){$("body *").focus(function(n){if(0!=active_menu_l2){var t=$(n.target);if(0===t.parents('[menuid="'+e.attr("menuid")+'"]').length)active_menu_l3!==!1&&hide_drop_menu($('ul.menu-l3[menuindex="'+active_menu_l3+'"]'),3),hide_drop_menu($('ul.sub[menuindex="'+active_menu_l2+'"]'),2);else if(t.is("a")&&t.parent("li").parent("ul").is('[menuid="'+e.attr("menuid")+'"]')){var i=t.parent("li").has('ul.sub[menuindex="'+active_menu_l2+'"]').children("ul.sub");i.is(".sub")===!1&&(active_menu_l3!==!1&&hide_drop_menu($('ul.menu-l3[menuindex="'+active_menu_l3+'"]'),3),hide_drop_menu($('ul.sub[menuindex="'+active_menu_l2+'"]'),2))}else if(active_menu_l2!==!1&&t.is("a")&&t.parent("li").parent("ul").is(".sub")){var o=t.parent("li").has('ul.menu-l3[menuindex="'+active_menu_l3+'"]').children("ul.menu-l3");o.is(".menu-l3")===!1&&hide_drop_menu($('ul.menu-l3[menuindex="'+active_menu_l3+'"]'),3)}}})},hide_drop_menu=function(e,n){e.css("left","-9000px").hide(),2==n?active_menu_l2=!1:3==n&&(active_menu_l3=!1)},resize_window_addl=null,custom_list_filter_settings,list_filter=function(e){var n={viewSelector:".viewer",viewDataAttr:"category",containSelector:".viewer_items",containDataAttr:"category",itemSelector:".item",allValue:"all",activeClass:"active",useHash:!1};"object"==typeof custom_list_filter_settings&&$.extend(n,custom_list_filter_settings),"object"==typeof e&&$.extend(n,e);var t=$(n.containSelector);if(0!==t.length){if(n.useHash===!0){var i=document.location.hash.length,o=!1;if(i>0){var u=window.location.hash.substring(1),l=$(n.viewSelector).filter("[data-"+n.viewDataAttr+'="'+u+'"], #'+u);l.length>0&&(o=!0,list_filter_show(l,t,n))}if(o===!1){var s=$(n.viewSelector).filter(":first");list_filter_show(s,t,n)}}$(n.viewSelector).click(function(e){e.preventDefault(),list_filter_show($(this),t,n)})}},list_filter_show=function(e,n,t){var i=e.data(t.viewDataAttr);"undefined"!=typeof i&&null!==i&&0!==i.length||(i=e.prop("id")),"string"!=typeof i&&"number"!=typeof i||(i==t.allValue?$(t.itemSelector,n).show():($(t.itemSelector,n).hide(),$(t.itemSelector,n).filter("[data-"+t.containDataAttr+'="'+i+'"], .'+i).show()),$(t.viewSelector+"."+t.activeClass).removeClass(t.activeClass),e.addClass(t.activeClass),t.useHash===!0&&list_filter_hash(i))},list_filter_hash=function(e){document.location.hash="#"+e},load_jquery_cycle_attempts=0,load_jquery_cycle=function(e,n){return jQuery().cycle?("function"==typeof e&&e(n),!0):void(10>load_jquery_cycle_attempts&&(load_jquery_cycle_attempts++,$.ajax({url:"/js/jquery.cycle2.min.js",cache:!0,dataType:"script",error:function(){load_jquery_cycle_attempts=10},success:function(t,i){load_jquery_cycle_attempts=0,"function"==typeof e&&e(n)}})))},news_widget_count=0;$(document).ready(function(){change_words(),resize_window(),$(window).resize(function(){resize_window()}),init_drop_menu($("#top_menu")),$("nav .menu").click(function(){toggle_menu()}),$("nav .submenu").click(function(){toggle_submenu($(this))}),list_filter(),$(".more").click(function(){var e=$(this).prop("id").substring(5);$("#short-"+e).hide(),$("#long-"+e).show()}),$(".less").click(function(){var e=$(this).prop("id").substring(5);$("#short-"+e).show(),$("#long-"+e).hide()}),$(".cbox").click(function(e){e.preventDefault(),open_colorbox({href:$(this).prop("href"),title:$(this).prop("title")})}),$("#close_preview").on("click",function(e){e.preventDefault(),window.close()}),news_widget(),Countable.once($(".full_blog_article")[0],function(e){var n=200,t=e.words/n,i=Math.round(t);if(1>i)var o="just a few seconds";else if(1===i)var o=i+" minute";else var o=i+" minutes";$(".reading_time").text(o),console.log(o)})});